Компонент URL
=============

## Терминология

Часть URL разделенная символом `/` называется аргумент. Например: `/my/cool/page/`. При этом важен порядок следования аргументов, т.к. адресация идет по номеру, начиная с 1. Т.е. после разбора примера выше, будет получен такой набор аргументов:

    1 => 'my'
    2 => 'cool'
    3 => 'page'

Если нужно передать именованный параметр, он передается в виде "имя:значение", например: `/id:12/height:yahoo/`. При этом последовательность параметров не имеет значения. Аргументы и параметры можно комбинировать, но параметры всегда идут в конце URL. Например: `/my/pretty/what:page/what:site/`.

Допускается в качестве аргумента указывать якорь (например `#anchor`) или имя файла с точкой (например `file.txt`), они будут доступны как аргументы, но при формировании строки всегда будут находиться в конце и не будут закрываться `/`.

## Разбор URL

Всё начинается с создания объекта URL. Разбор адреса происходит при вызове `load()`, в качестве аргументов можно передать любой набор частей URL. Тот же набор параметров можно передать сразу в конструктор.

Следующие вызовы идентичны по результату:

    $u = new URL();
    $u->load('/my/page/id:12/hello:world/');
    $u = new URL('/my/page/id:12/hello:world/'); 
    $u = new URL('my/page', array('id'=>12, 'hello'=>'world'));
    $u = new URL('my', 'page/id:12', array('hello'=>'world'));

Существует единственное отличие: если вызвать `load()` без аргументов, в объект будет загружен текущий URL, а вызов конструктора без аргументов создает пустой объект.

## Аргументы и параметры

После того, как адрес был разобран, объект URL предоставляет несколько способов доступа к аргументам и параметрам:
* `hasArgument($num)` - Проверка, есть ли аргумент;
* `hasParameter($name)` - Проверка, есть ли параметр;
* `getArgument($num, $default = false)` - Получить значение аргумента. Если нет - вернуть $default;
* `getParameter($name, $filter = null, $default = false)` - Получить значение параметра. Если нет - вернуть $default. $filter - проверка значения, может быть регулярным выражением или любым callable;
* `getArguments()` - Получить массив всех аргументов;
* `getParameters()` - Получить массив всех параметров.

Чтобы изменить аргументы или параметры, можно воспользоваться следующими возможностями:
* `cleanArguments($array = null)` - Очистить аргументы. В $array можно сразу передать массив новых аргументов;
* `cleanParameters($array = null)` - Очистить параметры. В $array можно сразу передать массив новых параметров;
* `setArgument($num, $value = null)` - Установка значения аргумента. Если $value = null, аргумент удаляется;
* `setParameter($name, $value = null)` - Установка значения параметра. Если $value = null, параметр удаляется;
* `addArgument($arg)` - Добавление аргумента;
* `addParameter($name, $mixed)` - Добавление параметра. $mixed - int|string|array;
* `addArguments($mixed, $_)` - Добавление аргументов. Может быть передано несколько аргументов сразу строкой или в массиве;
* `addParameters($array, $_)` - Добавление параметров. Может быть передано несколько массивов сразу;

## Отображение URL

Объект URL имеет два варианта вывода адреса:
* `toString()` - возвращает строку с адресом;
* `toHTML($text = null, $attr = null, $target = null)` - возвращает HTML-ссылку. $text - текст ссылки, $attr - массив атрибутов тега A или строка, которая будет использована как class="$attr". $target - атрибут target.